{% extends "base.html" %}

{% block title %}Flaks Music API - Dashboard{% endblock %}

{% block content %}
<div class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="hero-title">
                    <span class="text-primary">Flaks Music API</span>
                    <br>Lightning Fast Music Streaming
                </h1>
                <p class="hero-description">
                    Get direct audio stream URLs from Spotify, JioSaavn, and YouTube without cookies, 
                    IP bans, or yt-dlp. Perfect for Telegram music bots with 0.3-0.5 second response times.
                </p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <i class="fas fa-clock text-primary"></i>
                        <span>0.3s Response Time</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-shield-alt text-primary"></i>
                        <span>No IP Bans</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-bolt text-primary"></i>
                        <span>99.9% Uptime</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="hero-image">
                    <img src="https://pixabay.com/get/g392505c4cc448419de12d1c19703b60c5b0e526599cc26543d88931938e49743ac5a643b8b89a0f0475d27815ab281aa80f71928b9e560d7a3d5dd8e3309c41c_1280.jpg" alt="Music Streaming" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container py-5">
    <div class="row">
        <div class="col-12">
            <h2 class="section-title">API Documentation</h2>
            <p class="text-muted">Get started with our music streaming API in minutes</p>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-8">
            <div class="api-docs">
                <div class="endpoint-card">
                    <h3 class="endpoint-title">
                        <span class="method-get">GET</span>
                        /api/stream
                    </h3>
                    <p>Get direct audio stream URL for any song</p>
                    
                    <div class="code-block">
                        <h4>Request</h4>
                        <pre><code>curl -X GET "https://your-api-domain.com/api/stream?query=tum+hi+ho&api_key=YOUR_API_KEY"</code></pre>
                    </div>
                    
                    <div class="code-block">
                        <h4>Response</h4>
                        <pre><code>{
  "success": true,
  "title": "Tum Hi Ho",
  "artist": "Arijit Singh",
  "duration": "242",
  "stream_url": "https://direct-audio-url.mp3",
  "source": "jiosaavn",
  "quality": "320kbps",
  "response_time": 0.34
}</code></pre>
                    </div>
                    
                    <div class="parameters">
                        <h4>Parameters</h4>
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Parameter</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>query</code></td>
                                    <td>string</td>
                                    <td>Song name, artist name, or search query</td>
                                </tr>
                                <tr>
                                    <td><code>api_key</code></td>
                                    <td>string</td>
                                    <td>Your API key for authentication</td>
                                </tr>
                                <tr>
                                    <td><code>source</code></td>
                                    <td>string</td>
                                    <td>Music source: auto, jiosaavn, spotify, youtube</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="endpoint-card">
                    <h3 class="endpoint-title">
                        <span class="method-get">GET</span>
                        /api/trending
                    </h3>
                    <p>Get trending songs from various sources</p>
                    
                    <div class="code-block">
                        <h4>Python Example</h4>
                        <pre><code>import aiohttp

async def get_audio_stream_from_api(query: str):
    YOUR_API_KEY = "your_api_key_here"
    MUSIC_API_BASE_URL = "https://your-domain.com"
    
    async with aiohttp.ClientSession() as session:
        params = {
            'query': query,
            'api_key': YOUR_API_KEY
        }
        async with session.get(
            f"{MUSIC_API_BASE_URL}/api/stream",
            params=params,
            timeout=aiohttp.ClientTimeout(total=30)
        ) as response:
            if response.status == 200:
                data = await response.json()
                return data.get('stream_url'), data.get('title', query)
            return None, None</code></pre>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4">
            <div class="features-card">
                <h3>Key Features</h3>
                <ul class="features-list">
                    <li>
                        <i class="fas fa-check text-primary"></i>
                        <span>No yt-dlp dependency</span>
                    </li>
                    <li>
                        <i class="fas fa-check text-primary"></i>
                        <span>No cookies required</span>
                    </li>
                    <li>
                        <i class="fas fa-check text-primary"></i>
                        <span>No IP bans</span>
                    </li>
                    <li>
                        <i class="fas fa-check text-primary"></i>
                        <span>Multiple music sources</span>
                    </li>
                    <li>
                        <i class="fas fa-check text-primary"></i>
                        <span>High-quality audio (320kbps)</span>
                    </li>
                    <li>
                        <i class="fas fa-check text-primary"></i>
                        <span>VLC & Telegram compatible</span>
                    </li>
                    <li>
                        <i class="fas fa-check text-primary"></i>
                        <span>Usage analytics</span>
                    </li>
                    <li>
                        <i class="fas fa-check text-primary"></i>
                        <span>Rate limiting</span>
                    </li>
                </ul>
            </div>
            
            <div class="pricing-card">
                <h3>Pricing</h3>
                <div class="price-tag">
                    <span class="currency">â‚¹</span>
                    <span class="amount">99</span>
                    <span class="period">/month</span>
                </div>
                <ul class="pricing-features">
                    <li>1000 requests/day</li>
                    <li>All music sources</li>
                    <li>320kbps quality</li>
                    <li>Usage analytics</li>
                    <li>24/7 support</li>
                </ul>
                <a href="{{ url_for('admin_login') }}" class="btn btn-primary w-100">
                    Get API Key
                </a>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid bg-dark text-white py-5">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h3>Why Choose Flaks Music API?</h3>
                <p>Built specifically for Telegram music bot developers who face daily struggles with YouTube IP bans, cookie expiration, and slow response times.</p>
            </div>
            <div class="col-md-6">
                <h3>Supported Sources</h3>
                <div class="source-badges">
                    <span class="badge bg-primary">Spotify</span>
                    <span class="badge bg-success">JioSaavn</span>
                    <span class="badge bg-danger">YouTube</span>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
